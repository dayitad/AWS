## Security, Identity and Compliance > IAM

**IAM** is Identity and Access management is AWS. It is the central point for security in AWS. Every service uses IAM for security.
IAM has 3 main components - users, roles and groups.

+ Users - Physical user or a physical person, **never a root account since root account has all permissions**. Users must be created with proper permissions.
Create User > Manage User > Add User - Programmatic and console access > Autogenerated password > reset on login > attach policy > admin access. This user can be used to access AWS, not the root account. Also note that we can change the alias or URL for the user and share that which the user can use to login. To set password policy for user passwords, Account Setting > Password policy.
+ Roles - They are for internal usage by aws resources and services. **They are given to machines**.
+ Groups - Contains users. They can be functions(admin, devops) or teams(engineering, finance) or any other attribute by which users can be grouped. We can apply permissions to groups and all users under that group will inherit those permissions. Groups > Manage Group > Create New Group > name it > Add administartor access policy > Add user to group - the user will automatically inherit group permissions.

**Policies** are JSON documents which define permissions, what each of these users, groups or roles can do. They are assigned these policies. IAM has many predefined policies which can be reused. 
IAM is a **global** service.  The IAM users, groups or roles are valid across all regions.   

**Best Practices :**
+ Enable MFA for root account(Root User > Virtual MFA > Google Authenticator) and never use it as a user.
+ It is best to follow least privilege principle, that is give users, groups or roles minimal required permissions needed to perform their job. It is not recommended to over empower them.

#### IAM Federation
Big enterprises use IAM federation. They integrate their own repository of users , usually active directory with IAM so that their users can use company credentials to login to AWS. It uses SAML standard.

#### Brain DUMP - IAM
+ User mean Physical Person, Role means machine
+ 1 IAM user per physical person and 1 IAM role per application. 
+ IAM credentials should not be shared.
+ Never use root account apart from setup and never use it as a user or a role.
+ Never, ever **embed IAM credentials in code**.

<img src="https://raw.githubusercontent.com/dhrub123/AWS/master/IAM/IAM_Basics.png" width="60%" height="60%"/>