## Exam Name - SAA-C02

#### AWS
Amazon Web Service. It is a cloud provider providing servers and services that scale easily on demand.
An account can be created with 12 months worth free service.
aws.amazon.com/free

#### Different AWS Services
<img src="https://raw.githubusercontent.com/dhrub123/AWS/master/Introduction/Different_Services.png"/>

#### AWS BUDGET

Go to MyBilling Dashboard under Billing Service. 
Billing > Budget > Cost Budget > Set your Budget > Give a name to your budget and set period to monthly.
There we can set a fixed budget of 10$. If we do not want to spend anything, we will set 0.01$. AWS will send an email if any cost is incurred above our budget.

We can also configure alerts. 
Configure Alerts > Actual Costs > Alert Threshold (Percentage of Budgeted Amount) - Provide email id.

To find service charges for a month, we have to look under Billing > Bills > Find Month > Select Month > Service Charge

#### AWS Regions

AWS is a global service and it has datacenters all over the world. They are called regions.
https://aws.amazon.com/about-aws/global-infrastructure/

The blue dots are the existing regions and the orange dots are the upcoming ones. 
Each region is a set of datacenters. They follow a naming convention like us-east-1(N. Virginia), us-east-2(Ohio), us-west-1(N. California), us-west-2(Oregon), eu-west-3(Paris).

Most of the AWS services are region scoped( This means we can have a service in a specific region and that service in any other region will not have data 
replicated or synchronized). One such service is EC2 which is a regional service but there is a notable exception like IAM which is a global service.

**AWS AVAILABILITY ZONES** Each region has many availability zones. (Usually 3 availability zones, minimum 2, maximum 3).

Example: 
ap-southeast-2 is a region. This has 3 availability zones.
+ ap-southeast-2a
+ ap-southeast-2b
+ ap-southeast-2c
+ The letters a,b,c,d,e and f at the end represent availability zones.
+ Each availability zone is made up of one or more discreet data centers with redundant power, networking and connectivity.
+ They are seperated from one another and thus isolated from disaster.
+ They are connected with high bandwidth, ultra low latency networking.

A region physically nearer will have relatively low latency.

<img src="https://raw.githubusercontent.com/dhrub123/AWS/master/REGIONS/Region_Basics.png" width="50%" height="50%"/>

#### Security, Identity and Compliance > IAM

**IAM** is Identity and Access management is AWS. It is the central point for security in AWS. Every service uses IAM for security.
IAM has 3 main components - users, roles and groups.

+ Users - Physical user or a physical person, **never a root account since root account has all permissions**. Users must be created with proper permissions.
Create User > Manage User > Add User - Programmatic and console access > Autogenerated password > reset on login > attach policy > admin access. This user can be used to access AWS, not the root account. Also note that we can change the alias or URL for the user and share that which the user can use to login. To set password policy for user passwords, Account Setting > Password policy.
+ Roles - They are for internal usage by aws resources and services. **They are given to machines**.
+ Groups - Contains users. They can be functions(admin, devops) or teams(engineering, finance) or any other attribute by which users can be grouped. We can apply permissions to groups and all users under that group will inherit those permissions. Groups > Manage Group > Create New Group > name it > Add administartor access policy > Add user to group - the user will automatically inherit group permissions.

**Policies** are JSON documents which define permissions, what each of these users, groups or roles can do. They are assigned these policies. IAM has many predefined policies which can be reused. 
IAM is a **global** service.  The IAM users, groups or roles are valid across all regions.   

**Best Practices :**
+ Enable MFA for root account(Root User > Virtual MFA > Google Authenticator) and never use it as a user.
+ It is best to follow least privilege principle, that is give users, groups or roles minimal required permissions needed to perform their job. It is not recommended to over empower them.

#### IAM Federation
Big enterprises use IAM federation. They integrate their own repository of users , usually active directory with IAM so that their users can use company credentials to login to AWS. It uses SAML standard.

#### Brain DUMP - IAM
+ User mean Physical Person, Role means machine
+ 1 IAM user per physical person and 1 IAM role per application. 
+ IAM credentials should not be shared.
+ Never use root account apart from setup and never use it as a user or a role.
+ Never, ever **embed IAM credentials in code**.

<img src="https://raw.githubusercontent.com/dhrub123/AWS/master/IAM/IAM_Basics.png" width="60%" height="60%"/>

#### EC2
Amazon EC2(Elastic Compute Cloud) is a webservice that provides resizable compute capacity in cloud. It reduces the time required to obtain and boot new server instances to minutes, allowing to quicly scale capacity both upwards and downwards based on changing computing requirements.

It has changed the economics of computing by allowing to pay for what is being used. It provides the tools needed to build a failure resistent application.

#### Types of Instances based on Pricing
+ On Demand - allows to pay by the hour or second(Linux is by second and Windows is by hour)
+ Reserved - Reservation for 1 or 3 years, certain or entire amount upfront, but large discount compared to on demand price.
+ Spot - enables to bid a price for instance capacity, if application has flexible timings, this can lead to significant savings.
+ Dedicated host - These are physical ec2 server dedicated for use. They allow to bring exisitng server-bound software licenses over to aws and thus save costs.

##### On Demand Instances
+ Perfect for users who want low cost and flexibility of AWS EC2 without any long term commitment or contract
+ Applications with Unpredictable workloads that cannot be interrupted
+ Development and testing

##### Reserved Instances
+ Applications with steady state or predictable usage that require reserved capacity
+ Users willing to make upfront payment to reduce computing cost even further
  + Standard RIs(upto 75% off on demand) - if entire payment is made upfront and contract is for 3 years
  + Convertible RIs(upto 54% off on demand) - capability to change attribute of instance from say compute to memory intensive provided the     exchange is of equal or greater value 
  + Scheduled RIs - available to launch within a scheduled time window. It allows to obtain compute capacity within a certain recurring     schedule. For example if a company has large sales during fridays, then it will go for RIs scheduled on every friday.

##### Spot Instances
+ Applications with flexible start and end times which are feasible only at a very low cost. e.g. : Genomics and Pharma companies use this to perform research by running resource intensive apps on say a sunday at 4 am when price is very low.
+ Users who suddenly need additional compute capacity
+ Spot instances are terminated by AWS if spot price for that capacity increases. However Amazon does not charge for partial usage of hour in that case. However, if instance is terminated by customer, then whole hour is charged for.

##### Dedicated host
+ Used for regulatory requirement or to save licensing costs which do not allow multi tenant virtualization
+ Can be purchased on demand
+ Can be purchased as a reservation which saves about 70% compared to on demand

#### Types of instances based on hardware

|Family|Speciality|Usecase|
|------|----------|-------|
|F1|Field gate programmable array|Genomic research, Video processing, Financial analytics, big data|
|I3|High Speed Storage|No SQL DB and Data Warehousing|
|G3|Graphics Intensive|Video Encoding|
|H1|High Disk throughput|Distributed file systems like HDFS and Map Reduce based workloads|
|T2|Lowest Cost General Purpose| Web Server, Small DBs|
|D2|Dense Storage|File Servers, Data Warehouse, Hadoop|
|R4|Memory Optimized|Memory Intensive Apps, DB|
|M5|General Purpose|Application Servers|
|C5|Compute Ompimized|CPU Intensive Apps/DBs|
|P3|General Purpose , Graphics Intensive|Bit coin, Machine Learning|
|X1|Memory Optimized|SAP HANA, Apache Spark|

Remember by **FIGHT DR MCPX**

#### EBS(Elastic block storage)

This is a virtual disk just like EC2 is a virtual machine.  It allows to create storgae volumes and then add to EC2 instance. Once attached we can create a file system , run a database etc. They are placed in a psecific availability zone and are automatically replicated to protect from failure.

##### SSDs
+ General Purpose SSD(GP2) - 
  + General purpose, balances both price and performance
  + 3000 IOPS per gig with upto 10000 IOPS and ability to burst upto 3000 IOPS for extended period of time for volumes at 3334 Gib and above. 
+ Provisioned IOPS SSD(IO1)
  + Designed for I/O intensive apps like large relational or NOSQL databases.
  + Used for more than 10000 IOPS
  + Can provision upto 20000 IOPS per volume.
  
##### Magnetic volumes
+ Throughput optimized HDD(ST1)
  + Big Data/ Data warehousing/ Log  processing
  + Can only be an additional volume and **not a boot volume**
+ Cold HDD(SC1)
  + Lowest cost for infrequently accessed workloads
  + Usage may be a file server
  + Can only be an additional volume and **not a boot volume**
+ Magnetic(standard)
  + Lowest cost per gigabyte for all EBS volumes that is **bootable**
  + Ideal for workloads where data is accessed infrequently and where emphasis is on lowest storgae cost.
  + Previous generation
  

